"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),_get=function e(t,o,n){null===t&&(t=Function.prototype);var s=Object.getOwnPropertyDescriptor(t,o);if(void 0===s){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if("value"in s)return s.value;var r=s.get;return void 0!==r?r.call(n):void 0};custom_plugins.PluginLoader.getInstance().addPlugin(function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.VERSION="1.0",e.URL="http://duelyst.r4nd0m.org/page/duelyst_plugins/special-quest-info",_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addListener",e).call(e,e.prepare,window.custom_plugins.eventHooks.SESSION_CREATED),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addListener",e).call(e,e.infuse_dom,window.custom_plugins.eventHooks.SESSION_CREATED.SHOW_ACTIVE_GAME),_get(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addListener",e).call(e,e.update_data,window.custom_plugins.eventHooks.SESSION_CREATED.END_STEP),e}return _inherits(t,e),_createClass(t,[{key:"prepare",value:function(){custom_plugins.loadStylesheet("plugins/boxes-1.0.css.html")}},{key:"infuse_dom",value:function(){var e=QuestsManager.instance.getQuestCollection().models;for(var t in e)500!==e[t].attributes.quest_type_id&&401!==e[t].attributes.quest_type_id||0!==$("#plugin_sqi_box").length||$(document.createElement("div")).addClass("ingame_infobox").attr("id","plugin_sqi_box").appendTo($("#app-game-right-region")),500===e[t].attributes.quest_type_id?window.custom_plugins.has_aggressor_q=!0:401===e[t].attributes.quest_type_id&&(window.custom_plugins.has_assassin_q=!0)}},{key:"update_data",value:function(){var e=this;e.gameType!==SDK.GameType.Gauntlet&&e.gameType!==SDK.GameType.Ranked||((window.custom_plugins.has_aggressor_q||window.custom_plugins.has_assassin_q)&&$("#plugin_sqi_box").html('<b style="text-decoration: underline;">Quest Info:</b>'),window.custom_plugins.has_aggressor_q&&(this.getMyPlayer().totalDamageDealt>=40?$("#plugin_sqi_box").append('<div>Ultimate Aggressor: <b color="green">DONE</b>'):$("#plugin_sqi_box").append("<div>Ultimate Aggressor: "+this.getMyPlayer().totalDamageDealt+"/40</div>")),window.custom_plugins.has_assassin_q&&(this.getMyPlayer().totalMinionsKilled>=5?$("#plugin_sqi_box").append('<div>Assassin: <b color="green">DONE</b>'):$("#plugin_sqi_box").append("<div>Assassin: "+this.getMyPlayer().totalMinionsKilled+"/5</div>")))}}]),t}(custom_plugins.Plugin));